{% extends "layout.html" %}

{% block title %}
    Create New Fest
{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Create a New Fest</h2>
    {# enctype="multipart/form-data" is NO LONGER NEEDED if not uploading files #}
    <form method="POST" action="{{ url_for('create_fest') }}">
        {# If using Flask-WTF, you'd have {{ form.hidden_tag() }} or similar for CSRF #}

        <div class="form-group">
            <label for="fest_name">Fest Name:</label>
            <input type="text" id="fest_name" name="fest_name" class="form-control" value="{{ form_data.get('fest_name', '') }}" required>
        </div>

        {# --- REMOVED FEST IMAGE UPLOAD SECTION ---
        <div class="form-group">
            <label for="fest_image">Fest Image/Poster (Optional):</label>
            <input type="file" id="fest_image" name="fest_image" class="form-control-file" accept="image/png, image/jpeg, image/gif, image/webp">
            <small class="form-text text-muted">Upload an image (PNG, JPG, GIF, WEBP). Max 2MB recommended.</small>
        </div>
        --- END REMOVED FEST IMAGE UPLOAD SECTION --- #}

        <div class="form-group">
            <label for="start_time">Event Start Time:</label>
            <input type="datetime-local" id="start_time" name="start_time" class="form-control" value="{{ form_data.get('start_time', '') }}" required>
            <small class="form-text text-muted">Select the date and time the event begins.</small>
        </div>
        <div class="form-group">
            <label for="end_time">Event End Time:</label>
            <input type="datetime-local" id="end_time" name="end_time" class="form-control" value="{{ form_data.get('end_time', '') }}" required>
             <small class="form-text text-muted">Select the date and time the event concludes.</small>
        </div>
        <div class="form-group">
            <label for="registration_end_time">Registration Deadline:</label>
            <input type="datetime-local" id="registration_end_time" name="registration_end_time" class="form-control" value="{{ form_data.get('registration_end_time', '') }}" required>
            <small class="form-text text-muted">Select the cutoff date and time for attendees to register.</small>
        </div>

        <div class="form-group">
            <label for="fest_venue">Venue:</label>
            <input type="text" id="fest_venue" name="fest_venue" class="form-control" value="{{ form_data.get('fest_venue', '') }}" placeholder="e.g., College Auditorium">
        </div>
        <div class="form-group">
            <label for="fest_guests">Guests (optional):</label>
            <input type="text" id="fest_guests" name="fest_guests" class="form-control" value="{{ form_data.get('fest_guests', '') }}" placeholder="e.g., DJ XYZ, Chief Guest Name">
        </div>

        <div class="form-group">
            <label for="fest_details">Description/Details:</label>
            <textarea id="fest_details" name="fest_details" class="form-control" rows="5" required>{{ form_data.get('fest_details', '') }}</textarea>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="publish_fest" name="publish_fest" value="yes"
                   {% if request.method == 'POST' and request.form.get('publish_fest') == 'yes' %}checked
                   {% elif request.method == 'GET' %}checked  {# Default to checked on initial load (GET) #}
                   {% endif %}>
            <label class="form-check-label" for="publish_fest">Publish this fest immediately?</label>
        </div>
        <button type="submit" class="btn btn-primary btn-submit">Create Fest</button>
    </form>
</div>
{% endblock %}
